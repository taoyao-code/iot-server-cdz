# æ•°æ®å®‰å…¨ä¸éƒ¨ç½²è¯´æ˜

## ğŸ“‹ æ ¸å¿ƒé—®é¢˜è§£ç­”

### â“ Q1: `make deploy` ä¼šé‡ç½®æ•°æ®åº“å—ï¼Ÿ

**ç­”æ¡ˆï¼šä¸ä¼šï¼æ•°æ®æ˜¯å®‰å…¨çš„ã€‚** âœ…

### â“ Q2: æ¯æ¬¡éƒ¨ç½²éƒ½è¦å…¨é‡ç¼–è¯‘å—ï¼Ÿ

**ç­”æ¡ˆï¼šä¼šé‡æ–°æ„å»ºé•œåƒï¼Œä½†åˆ©ç”¨äº†ç¼“å­˜ï¼Œé€šå¸¸å¾ˆå¿«ï¼ˆ30ç§’-2åˆ†é’Ÿï¼‰ã€‚** ğŸ“¦

---

## ğŸ”’ æ•°æ®æŒä¹…åŒ–æœºåˆ¶

### Docker Volume ä¿æŠ¤æœºåˆ¶

```yaml
# docker-compose.yml é…ç½®
volumes:
  postgres_data:      # â† æ•°æ®å·ï¼ˆæŒä¹…åŒ–ï¼‰
    driver: local
  redis_data:
    driver: local

postgres:
  volumes:
    - postgres_data:/var/lib/postgresql/data  # â† æ•°æ®å­˜å‚¨ä½ç½®
```

### æ•°æ®ç”Ÿå‘½å‘¨æœŸ

| æ“ä½œ | å®¹å™¨çŠ¶æ€ | æ•°æ®å·çŠ¶æ€ | æ•°æ®æ˜¯å¦ä¿ç•™ |
|------|---------|-----------|-------------|
| `docker-compose up -d` | åˆ›å»º/å¯åŠ¨ | åˆ›å»º/å¤ç”¨ | âœ… ä¿ç•™ |
| `docker-compose down` | åœæ­¢åˆ é™¤ | **ä¿ç•™** | âœ… ä¿ç•™ |
| `docker-compose restart` | é‡å¯ | ä¿ç•™ | âœ… ä¿ç•™ |
| `make deploy` | é‡å»ºå®¹å™¨ | ä¿ç•™ | âœ… ä¿ç•™ |
| `make prod-restart` | é‡å¯ | ä¿ç•™ | âœ… ä¿ç•™ |
| `docker-compose down -v` | åœæ­¢åˆ é™¤ | **åˆ é™¤** | âŒ ä¸¢å¤± |
| `make clean-all` | åœæ­¢åˆ é™¤ | **åˆ é™¤**ï¼ˆéœ€ç¡®è®¤ï¼‰ | âŒ ä¸¢å¤± |

### éªŒè¯æ•°æ®æŒä¹…åŒ–

```bash
# 1. æŸ¥çœ‹æ•°æ®å·
docker volume ls | grep iot-server

# è¾“å‡ºç¤ºä¾‹ï¼š
# local     iot-server_postgres_data
# local     iot-server_redis_data
# local     iot-server_app_logs

# 2. æŸ¥çœ‹å·è¯¦æƒ…
docker volume inspect iot-server_postgres_data

# 3. æŸ¥çœ‹æ•°æ®å·å¤§å°
docker system df -v | grep iot-server
```

---

## ğŸ”¨ æ„å»ºä¼˜åŒ–æœºåˆ¶

### Dockerfile å¤šå±‚ç¼“å­˜

```dockerfile
# ç¬¬1å±‚ï¼šåŸºç¡€é•œåƒï¼ˆå‡ ä¹ä¸å˜ï¼‰
FROM golang:1.24-alpine AS build
# âœ… ç¼“å­˜å‘½ä¸­ç‡ï¼š99%

# ç¬¬2å±‚ï¼šä¾èµ–ä¸‹è½½ï¼ˆgo.mod å˜åŒ–æ‰é‡æ–°ä¸‹è½½ï¼‰
COPY go.mod go.sum ./
RUN --mount=type=cache,target=/go/pkg/mod \
    go mod download
# âœ… ç¼“å­˜å‘½ä¸­ç‡ï¼š95%
# ä»…å½“ä¾èµ–å˜åŒ–æ—¶é‡æ–°ä¸‹è½½

# ç¬¬3å±‚ï¼šä»£ç ç¼–è¯‘ï¼ˆä»£ç å˜åŒ–æ‰é‡æ–°ç¼–è¯‘ï¼‰
COPY cmd/ internal/ ./
RUN --mount=type=cache,target=/root/.cache/go-build \
    go build ...
# âœ… å¢é‡ç¼–è¯‘
# ä»…ç¼–è¯‘å˜åŒ–çš„åŒ…
```

### æ„å»ºæ—¶é—´ç»Ÿè®¡

| åœºæ™¯ | æ„å»ºæ—¶é—´ | è¯´æ˜ |
|------|---------|------|
| é¦–æ¬¡æ„å»º | 3-5 åˆ†é’Ÿ | ä¸‹è½½æ‰€æœ‰ä¾èµ– + å®Œæ•´ç¼–è¯‘ |
| ä»£ç ä¿®æ”¹ï¼ˆä¾èµ–æœªå˜ï¼‰ | 30ç§’-1åˆ†é’Ÿ | åˆ©ç”¨ä¾èµ–ç¼“å­˜ + å¢é‡ç¼–è¯‘ |
| ä¾èµ–æ›´æ–° | 1-2 åˆ†é’Ÿ | ä¸‹è½½æ–°ä¾èµ– + é‡æ–°ç¼–è¯‘ |
| ä»…é…ç½®æ–‡ä»¶ä¿®æ”¹ | 10-20ç§’ | å‡ ä¹æ‰€æœ‰å±‚ç¼“å­˜å‘½ä¸­ |

---

## ğŸš€ éƒ¨ç½²æ–¹å¼å¯¹æ¯”

### æ–¹å¼1: æ ‡å‡†éƒ¨ç½²ï¼ˆmake deployï¼‰

```bash
make deploy
```

**æ‰§è¡Œæµç¨‹ï¼š**

1. âœ… ç¯å¢ƒæ£€æŸ¥
2. âœ… æ„å»ºé•œåƒï¼ˆåˆ©ç”¨ç¼“å­˜ï¼‰
3. âœ… å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆæ•°æ®å·è‡ªåŠ¨æŒ‚è½½ï¼‰
4. âœ… å¥åº·æ£€æŸ¥

**ç‰¹ç‚¹ï¼š**

- âœ… æ•°æ®å®‰å…¨ï¼ˆä¸ä¼šé‡ç½®ï¼‰
- âœ… é€‚åˆé¦–æ¬¡éƒ¨ç½²
- âš ï¸ å¯èƒ½é‡å¯æ•°æ®åº“å®¹å™¨ï¼ˆä½†æ•°æ®ä¸ä¸¢å¤±ï¼‰

---

### æ–¹å¼2: å®‰å…¨éƒ¨ç½²ï¼ˆæ¨èâ­ï¼‰

```bash
make deploy-safe
```

**æ‰§è¡Œæµç¨‹ï¼š**

1. âœ… **è‡ªåŠ¨å¤‡ä»½æ•°æ®åº“**
2. âœ… æ„å»ºé•œåƒ
3. âœ… æ£€æŸ¥æ•°æ®å·
4. âœ… **é›¶åœæœºæ›´æ–°**ï¼ˆä»…æ›´æ–°åº”ç”¨ï¼Œä¸é‡å¯æ•°æ®åº“ï¼‰
5. âœ… å¥åº·æ£€æŸ¥
6. âœ… å¤±è´¥è‡ªåŠ¨å›æ»š

**ç‰¹ç‚¹ï¼š**

- âœ… æ•°æ®åŒé‡ä¿æŠ¤ï¼ˆå· + å¤‡ä»½ï¼‰
- âœ… é›¶åœæœºéƒ¨ç½²
- âœ… æ•°æ®åº“ä¿æŒè¿è¡Œ
- âœ… è‡ªåŠ¨å›æ»š
- â­ **ç”Ÿäº§ç¯å¢ƒå¼ºçƒˆæ¨è**

---

### æ–¹å¼3: ä»…æ›´æ–°åº”ç”¨

```bash
# åªæ›´æ–°åº”ç”¨å®¹å™¨ï¼Œä¸åŠ¨æ•°æ®åº“
docker-compose up -d --no-deps --build iot-server
```

**ç‰¹ç‚¹ï¼š**

- âœ… æœ€å¿«ï¼ˆä¸é‡å¯æ•°æ®åº“/Redisï¼‰
- âœ… é›¶åœæœº
- âš ï¸ éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ

---

## ğŸ“Š è¯¦ç»†éƒ¨ç½²æµç¨‹

### `make deploy-safe` å®Œæ•´æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å¤‡ä»½æ•°æ®åº“                           â”‚
â”‚    â””â”€> è‡ªåŠ¨å¤‡ä»½åˆ° ./backups/           â”‚
â”‚        ä¿ç•™æœ€è¿‘ 10 ä¸ªå¤‡ä»½               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. æ„å»º Docker é•œåƒ                     â”‚
â”‚    â””â”€> åˆ©ç”¨ BuildKit ç¼“å­˜               â”‚
â”‚        é€šå¸¸ 30ç§’-2åˆ†é’Ÿ                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. æ£€æŸ¥æ•°æ®å·                           â”‚
â”‚    âœ“ postgres_data: 1.2GB              â”‚
â”‚    âœ“ redis_data: 50MB                  â”‚
â”‚    âœ“ app_logs: 200MB                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. æ»šåŠ¨æ›´æ–°åº”ç”¨                         â”‚
â”‚    if é¦–æ¬¡éƒ¨ç½²:                         â”‚
â”‚      â””â”€> å¯åŠ¨æ‰€æœ‰æœåŠ¡                   â”‚
â”‚    else å·²æœ‰éƒ¨ç½²:                       â”‚
â”‚      â””â”€> ä»…æ›´æ–° iot-server å®¹å™¨         â”‚
â”‚          æ•°æ®åº“/Redis ä¿æŒè¿è¡Œ âœ…       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5. å¥åº·æ£€æŸ¥ï¼ˆ30æ¬¡é‡è¯•ï¼‰                 â”‚
â”‚    âœ“ æ•°æ®åº“ï¼špg_isready                â”‚
â”‚    âœ“ Redis: PING                       â”‚
â”‚    âœ“ åº”ç”¨: /healthz                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6. æ˜¾ç¤ºçŠ¶æ€                             â”‚
â”‚    â””â”€> æœåŠ¡åˆ—è¡¨ + æ•°æ®å·çŠ¶æ€            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… éƒ¨ç½²æˆåŠŸï¼æ•°æ®å·²ä¿ç•™ï¼Œæœªé‡ç½®
```

---

## âš ï¸ æ•°æ®ä¸¢å¤±çš„å”¯ä¸€åœºæ™¯

### å±é™©æ“ä½œï¼ˆä¼šåˆ é™¤æ•°æ®ï¼‰

```bash
# âŒ å±é™©æ“ä½œ1ï¼šå¸¦ -v å‚æ•°
docker-compose down -v
# è¿™ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®å·ï¼

# âŒ å±é™©æ“ä½œ2ï¼šæ·±åº¦æ¸…ç†
make clean-all
# ä¼šæç¤ºç¡®è®¤ååˆ é™¤æ•°æ®

# âŒ å±é™©æ“ä½œ3ï¼šæ‰‹åŠ¨åˆ é™¤å·
docker volume rm iot-server_postgres_data

# âŒ å±é™©æ“ä½œ4ï¼šç³»ç»Ÿæ¸…ç†
docker system prune -a --volumes
# åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„æ•°æ®
```

### å®‰å…¨æ“ä½œï¼ˆæ•°æ®ä¿ç•™ï¼‰

```bash
# âœ… å®‰å…¨æ“ä½œï¼šæ™®é€šéƒ¨ç½²
make deploy
make deploy-safe

# âœ… å®‰å…¨æ“ä½œï¼šé‡å¯æœåŠ¡
make prod-restart
docker-compose restart

# âœ… å®‰å…¨æ“ä½œï¼šåœæ­¢æœåŠ¡
make prod-down
docker-compose down  # ä¸å¸¦ -v

# âœ… å®‰å…¨æ“ä½œï¼šæ›´æ–°ä»£ç 
git pull
make deploy-safe
```

---

## ğŸ›¡ï¸ æ•°æ®ä¿æŠ¤æœ€ä½³å®è·µ

### 1. å®šæœŸè‡ªåŠ¨å¤‡ä»½

```bash
# æ·»åŠ åˆ° crontab
0 2 * * * cd /opt/iot-server && \
  docker-compose exec -T postgres pg_dump -U iot iot_server | \
  gzip > /opt/backups/iot-$(date +\%Y\%m\%d).sql.gz

# ä¿ç•™æœ€è¿‘30å¤©
0 3 * * * find /opt/backups -name "iot-*.sql.gz" -mtime +30 -delete
```

### 2. éƒ¨ç½²å‰å¤‡ä»½

```bash
# ä½¿ç”¨ safe-deploy è„šæœ¬ï¼ˆè‡ªåŠ¨å¤‡ä»½ï¼‰
make deploy-safe

# æˆ–æ‰‹åŠ¨å¤‡ä»½
docker-compose exec postgres pg_dump -U iot iot_server > backup.sql
```

### 3. æ‰‹åŠ¨å¤‡ä»½/æ¢å¤

```bash
# å¤‡ä»½æ•°æ®åº“
docker-compose exec -T postgres pg_dump -U iot iot_server | \
  gzip > backup-$(date +%Y%m%d-%H%M%S).sql.gz

# æ¢å¤æ•°æ®åº“
gunzip < backup-20241209-143000.sql.gz | \
  docker-compose exec -T postgres psql -U iot iot_server

# å¤‡ä»½ Redis
docker-compose exec redis redis-cli -a ${REDIS_PASSWORD} SAVE
docker cp iot-redis-prod:/data/dump.rdb ./redis-backup.rdb

# æ¢å¤ Redis
docker cp ./redis-backup.rdb iot-redis-prod:/data/dump.rdb
docker-compose restart redis

# å¤‡ä»½æ•´ä¸ªæ•°æ®å·ï¼ˆæ¨èï¼‰
docker run --rm \
  -v iot-server_postgres_data:/data \
  -v $(pwd):/backup \
  alpine tar czf /backup/postgres-volume-$(date +%Y%m%d).tar.gz /data
```

### 4. ç›‘æ§æ•°æ®å·å¤§å°

```bash
# æŸ¥çœ‹æ•°æ®å·ä½¿ç”¨æƒ…å†µ
docker system df -v

# ç›‘æ§è„šæœ¬
cat > scripts/monitor-volumes.sh << 'EOF'
#!/bin/bash
echo "æ•°æ®å·ä½¿ç”¨æƒ…å†µï¼š"
docker volume ls --format "table {{.Name}}\t{{.Size}}" | grep iot-server

echo ""
echo "æ•°æ®åº“å¤§å°ï¼š"
docker-compose exec postgres psql -U iot -d iot_server -c "
SELECT 
    schemaname,
    tablename,
    pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) AS size
FROM pg_tables
WHERE schemaname = 'public'
ORDER BY pg_total_relation_size(schemaname||'.'||tablename) DESC
LIMIT 10;
"
EOF

chmod +x scripts/monitor-volumes.sh
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. æ„å»ºé€Ÿåº¦ä¼˜åŒ–

```bash
# å¯ç”¨ BuildKitï¼ˆå·²é»˜è®¤å¯ç”¨ï¼‰
export DOCKER_BUILDKIT=1

# ä½¿ç”¨ Docker Compose build cache
docker-compose build --parallel

# æ¸…ç†æ„å»ºç¼“å­˜ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
docker builder prune
```

### 2. å‡å°‘é‡å»ºé¢‘ç‡

```bash
# å¼€å‘ç¯å¢ƒï¼šä½¿ç”¨ volume æŒ‚è½½ä»£ç 
# docker-compose.override.yml
services:
  iot-server:
    volumes:
      - ./cmd:/app/cmd
      - ./internal:/app/internal

# ç”Ÿäº§ç¯å¢ƒï¼šä½¿ç”¨é•œåƒéƒ¨ç½²
docker-compose up -d --no-deps --build iot-server
```

### 3. å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–

```dockerfile
# å·²å®ç°ï¼šåˆ†ç¦»æ„å»ºå’Œè¿è¡Œç¯å¢ƒ
# æ„å»ºé•œåƒï¼šgolang:1.24-alpine (è¾ƒå¤§)
# è¿è¡Œé•œåƒï¼šdebian:12-slim (è¾ƒå°)
# æœ€ç»ˆé•œåƒå¤§å°ï¼š~100MB
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šæ•°æ®å·ä¸¢å¤±

**ç—‡çŠ¶ï¼š** éƒ¨ç½²åæ•°æ®åº“æ˜¯ç©ºçš„

**æ’æŸ¥ï¼š**

```bash
# 1. æ£€æŸ¥æ•°æ®å·æ˜¯å¦å­˜åœ¨
docker volume ls | grep postgres_data

# 2. æ£€æŸ¥å®¹å™¨æŒ‚è½½
docker inspect iot-postgres-prod | grep -A 10 Mounts

# 3. æ£€æŸ¥æ˜¯å¦æ‰§è¡Œäº† down -v
docker events --since 1h | grep volume
```

**è§£å†³ï¼š**

```bash
# ä»å¤‡ä»½æ¢å¤
gunzip < backups/latest.sql.gz | \
  docker-compose exec -T postgres psql -U iot iot_server
```

### é—®é¢˜2ï¼šæ„å»ºç¼“å­˜å¤±æ•ˆ

**ç—‡çŠ¶ï¼š** æ¯æ¬¡æ„å»ºéƒ½å¾ˆæ…¢

**æ’æŸ¥ï¼š**

```bash
# æ£€æŸ¥ BuildKit æ˜¯å¦å¯ç”¨
docker buildx version

# æŸ¥çœ‹æ„å»ºå†å²
docker history iot-server:latest
```

**è§£å†³ï¼š**

```bash
# é‡å¯ Docker æœåŠ¡
sudo systemctl restart docker

# æ¸…ç†æ—§é•œåƒ
docker image prune -f
```

### é—®é¢˜3ï¼šéƒ¨ç½²åæœåŠ¡å¼‚å¸¸

**ç—‡çŠ¶ï¼š** å¥åº·æ£€æŸ¥å¤±è´¥

**æ’æŸ¥ï¼š**

```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker-compose logs iot-server

# æŸ¥çœ‹æ•°æ®åº“è¿æ¥
docker-compose exec iot-server \
  sh -c 'echo "SELECT 1" | psql $DATABASE_URL'

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker-compose exec iot-server sh
```

**è§£å†³ï¼š**

```bash
# å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
docker tag iot-server:backup-20241209 iot-server:latest
docker-compose up -d --no-deps iot-server
```

---

## ğŸ“š ç›¸å…³å‘½ä»¤é€ŸæŸ¥

### éƒ¨ç½²ç›¸å…³

```bash
make deploy           # æ ‡å‡†éƒ¨ç½²
make deploy-safe      # å®‰å…¨éƒ¨ç½²ï¼ˆæ¨èï¼‰
make prod-restart     # é‡å¯æœåŠ¡
make prod-logs        # æŸ¥çœ‹æ—¥å¿—
```

### æ•°æ®ç®¡ç†

```bash
# å¤‡ä»½
make backup
docker-compose exec -T postgres pg_dump -U iot iot_server > backup.sql

# æ¢å¤
make restore
cat backup.sql | docker-compose exec -T postgres psql -U iot iot_server

# æŸ¥çœ‹æ•°æ®å·
docker volume ls
docker volume inspect iot-server_postgres_data
```

### å®¹å™¨ç®¡ç†

```bash
# æŸ¥çœ‹çŠ¶æ€
docker-compose ps
docker-compose logs -f iot-server

# è¿›å…¥å®¹å™¨
docker-compose exec iot-server sh
docker-compose exec postgres psql -U iot

# é‡å¯å•ä¸ªæœåŠ¡
docker-compose restart iot-server
docker-compose up -d --no-deps iot-server
```

### æ¸…ç†æ“ä½œ

```bash
# å®‰å…¨æ¸…ç†ï¼ˆä¿ç•™æ•°æ®ï¼‰
docker-compose down
docker image prune -f

# å±é™©æ¸…ç†ï¼ˆåˆ é™¤æ•°æ®ï¼Œéœ€ç¡®è®¤ï¼‰
make clean-all
docker-compose down -v
```

---

## ğŸ¯ æ€»ç»“

### å…³é”®è¦ç‚¹

1. âœ… **æ•°æ®æ˜¯å®‰å…¨çš„**
   - Docker Volume æŒä¹…åŒ–æœºåˆ¶
   - åªæœ‰ `down -v` æ‰ä¼šåˆ é™¤æ•°æ®
   - `make deploy` ä¸ä¼šé‡ç½®æ•°æ®

2. âœ… **æ„å»ºæ˜¯ä¼˜åŒ–çš„**
   - BuildKit å¤šå±‚ç¼“å­˜
   - å¢é‡ç¼–è¯‘æœºåˆ¶
   - é€šå¸¸åªéœ€ 30ç§’-2åˆ†é’Ÿ

3. âœ… **æ¨èä½¿ç”¨ `make deploy-safe`**
   - è‡ªåŠ¨å¤‡ä»½
   - é›¶åœæœºéƒ¨ç½²
   - å¤±è´¥è‡ªåŠ¨å›æ»š

4. âœ… **å®šæœŸå¤‡ä»½**
   - éƒ¨ç½²å‰è‡ªåŠ¨å¤‡ä»½
   - å®šæ—¶ä»»åŠ¡å¤‡ä»½
   - å¤šåœ°å­˜å‚¨å¤‡ä»½

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

- [ ] ç¬¬ä¸€æ¬¡éƒ¨ç½²ï¼š`make deploy`
- [ ] åç»­æ›´æ–°ï¼š`make deploy-safe`
- [ ] é…ç½®å®šæ—¶å¤‡ä»½
- [ ] æµ‹è¯•å›æ»šæµç¨‹
- [ ] é…ç½®ç›‘æ§å‘Šè­¦

---

**ä¿æŒæ•°æ®å®‰å…¨ï¼Œæ”¾å¿ƒéƒ¨ç½²ï¼** ğŸš€
